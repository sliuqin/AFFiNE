# Snapshot report for `src/__tests__/models/copilot-session.spec.ts`

The actual snapshot is saved in `copilot-session.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## should list and filter session type

> workspace sessions should include workspace and pinned sessions

    [
      {
        docId: null,
        pinned: true,
      },
      {
        docId: null,
        pinned: false,
      },
    ]

> doc sessions should only include sessions with matching docId

    [
      {
        docId: 'doc-id-1',
        pinned: false,
        promptName: 'action-prompt',
      },
      {
        docId: 'doc-id-1',
        pinned: false,
        promptName: 'test-prompt',
      },
    ]

> session type identification results

    [
      {
        session: {
          docId: null,
          pinned: false,
        },
        type: 'workspace',
      },
      {
        session: {
          docId: undefined,
          pinned: false,
        },
        type: 'workspace',
      },
      {
        session: {
          docId: null,
          pinned: true,
        },
        type: 'pinned',
      },
      {
        session: {
          docId: 'doc-id-1',
          pinned: false,
        },
        type: 'doc',
      },
    ]

## should pin and unpin sessions

> session states after creating second pinned session

    [
      {
        docId: null,
        id: 'first-session-id',
        pinned: false,
      },
      {
        docId: null,
        id: 'second-session-id',
        pinned: true,
      },
    ]

> should return false when no sessions to unpin

    false

> all sessions should be unpinned after unpin operation

    [
      {
        id: 'first-session-id',
        pinned: false,
      },
      {
        id: 'second-session-id',
        pinned: false,
      },
      {
        id: 'third-session-id',
        pinned: false,
      },
    ]

## should handle session updates and validations

> should unpin existing when pinning new session

    [
      {
        docId: null,
        id: 'session-update-id',
        pinned: true,
      },
      {
        docId: null,
        id: 'existing-pinned-session-id',
        pinned: false,
      },
    ]

> session type conversion steps

    [
      {
        session: {
          docId: 'doc-update-id',
          pinned: false,
        },
        step: 'pinned_to_doc',
        type: 'doc',
      },
      {
        session: {
          docId: null,
          pinned: false,
        },
        step: 'doc_to_workspace',
        type: 'workspace',
      },
      {
        session: {
          docId: null,
          pinned: true,
        },
        step: 'workspace_to_pinned',
        type: 'pinned',
      },
    ]

## session updates and type conversions

> session states after pinning - should unpin existing

    [
      {
        docId: null,
        id: 'session-update-id',
        pinned: true,
      },
      {
        docId: null,
        id: 'existing-pinned-session-id',
        pinned: false,
      },
    ]

> session state after unpinning

    {
      docId: null,
      id: 'session-update-id',
      pinned: false,
    }

> session type conversion steps

    [
      {
        session: {
          docId: 'doc-update-id',
          pinned: false,
        },
        step: 'workspace_to_doc',
        type: 'doc',
      },
      {
        session: {
          docId: 'doc-update-id',
          pinned: true,
        },
        step: 'doc_to_pinned',
        type: 'pinned',
      },
      {
        session: {
          docId: null,
          pinned: false,
        },
        step: 'pinned_to_workspace',
        type: 'workspace',
      },
      {
        session: {
          docId: null,
          pinned: true,
        },
        step: 'workspace_to_pinned',
        type: 'pinned',
      },
    ]
